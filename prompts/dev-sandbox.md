read apps/server/src/agentSpawner.ts apps/server/src/vscode/MorphVSCodeInstance.ts apps/server/src/vscode/VSCodeInstance.ts apps/server/src/vscode/DockerVSCodeInstance.ts -- we need to do a major refactor. let's create a new abstraction called a DevSandbox. A DevSandbox is an encapsulation of pretty much a workspace that either a human or AI agent can operate in. It should be a base class--this means we'll have DockerDevSandbox and MorphDevSandbox. Each dev sandbox will correspond to a repo + git commit. A DevSandbox can only be instantiated via `await DevSandbox.create({ repoUrl: string, ref: string (ref is a git ref, e.g. a branch name or commit hash), credentials: { type: "github_token" | "github_pat" | "github_app", token: string, env: Record<string, string> } })`. it cannot be instantiated via new DevSandbox() since this won't support async.
